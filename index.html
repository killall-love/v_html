<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="referrer" content="no-referrer"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Video Player</title><style>body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #000; color: #fff; font-family: Arial, sans-serif; overflow: hidden; } .video-wrapper { position: relative; border: 5px solid #fff; border-radius: 10px; overflow: hidden; background-color: #000; max-width: 90vw; max-height: 80vh; width: auto; height: auto; } video { width: 100%; height: 100%; object-fit: contain; } h1 { text-align: center; margin-top: 20px; color: #fff; } </style></head><body><div class="video-wrapper" id="videoWrapper"><video id="video" autoplay controls playsinline><source id="source" type="video/mp4">您的浏览器不支持最新的视频播放</video></div><h1 id="res"></h1><script>;(function() { function getQueryString(name) { const reg = new RegExp("[?&]" + encodeURIComponent(name) + "=([^&]*)", "i"); const match = window.location.search.match(reg); return match ? decodeURIComponent(match[1]) : null; } function adjustVideoSize() { const video = document.getElementById('video'); const wrapper = document.getElementById('videoWrapper'); video.addEventListener('loadedmetadata', () => { const { videoWidth, videoHeight } = video; const aspectRatio = videoWidth / videoHeight; if (aspectRatio < 1) { wrapper.style.height = '80vh'; wrapper.style.width = 'auto'; } else { wrapper.style.width = '90vw'; wrapper.style.height = 'auto'; } }); } const url = getQueryString("url"); if (url) { document.getElementById('source').src = url; adjustVideoSize(); } else { document.getElementById('video').style.display = 'none'; document.getElementById('res').textContent = 'URL异常'; } })();</script></body></html>
